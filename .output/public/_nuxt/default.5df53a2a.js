import{_ as $}from"./nuxt-link.6d4e0557.js";import{ac as R,aa as M,r as p,ad as B,f as A,a as S,ae as F,z as C,P as V,o as _,e as v,j as x,F as T,B as L,u as k,m as f,w as E,C as z,A as H,s as N,k as q}from"./entry.e10f3fa0.js";import{b as G}from"./index.a0e26ed5.js";import{_ as I}from"./client-only.90daf3cd.js";import{_ as W}from"./Footer.8e78a1f3.js";import{_ as j}from"./_plugin-vue_export-helper.c27b6911.js";const O=()=>R("color-mode").value,U=M("app",()=>{const u=p(!1),e=p(B),t=A(()=>u.value?e.value.dark:e.value.light);return{isDark:u,currentTheme:t}}),X=x("div",{class:"i-carbon-sun dark:i-carbon-moon"},null,-1),Y=[X],J=S({__name:"DarkToggle",setup(u){const e=O();F({meta:[{id:"theme-color",name:"theme-color",content:()=>e.value==="dark"?"#222222":"#ffffff"}]});const t=p(!1),a=p(o=>{}),s=U();C(()=>{t.value=document.documentElement.classList.contains("dark");const o=document.startViewTransition&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches;function l(){const c=window.matchMedia("(prefers-color-scheme: dark)"),g=document.documentElement.classList;let i=e.value,r=e.preference==="dark"&&i==null||(i==="auto"||i==null?c.matches:i==="dark");c.onchange=h=>{i==="auto"&&w(r=h.matches)};function m(h){if(!o){w(r=!r),i=r?c.matches?"auto":"dark":c.matches?"light":"auto",e.preference=i;return}h.clientX,h.clientY,document.startViewTransition(()=>{w(r=!r),i=r?c.matches?"auto":"dark":c.matches?"light":"auto",e.preference=i}).ready.then(()=>{const b=["polygon(0 0, 50% 50%, 100% 100%, 50% 50%)","polygon(0 0, 0 100%, 100% 100%, 100% 0)"];document.documentElement.animate({clipPath:r?b:[...b].reverse()},{duration:500,easing:"ease-in-out",pseudoElement:r?"::view-transition-new(root)":"::view-transition-old(root)"})})}function w(h){const d=document.createElement("style");d.appendChild(document.createTextNode(`:not(.VPSwitchAppearance):not(.VPSwitchAppearance *) {
    -webkit-transition: none !important;
    -moz-transition: none !important;
    -o-transition: none !important;
    -ms-transition: none !important;
    transition: none !important;
  }`)),document.head.appendChild(d),t.value=h,g[h?"add":"remove"]("dark"),window.getComputedStyle(d).opacity,document.head.removeChild(d)}return m}a.value=l()}),V(t,o=>{e.preference=o?"dark":"light",s.isDark=o});function n(o){var l;(l=a.value)==null||l.call(a,o)}return(o,l)=>(_(),v("button",{class:"!outline-none",onClick:n},Y))}});const K={"w-full":"",flex:"","items-center":"","px-5":"","py-2":""},Q={"ml-auto":"",flex:"","gap-x-5":""},Z=S({__name:"Header",setup(u){const e=p([{name:"博客",path:"/blog"}]);return(t,a)=>{const s=$,n=J;return _(),v("div",K,[x("div",Q,[(_(!0),v(T,null,L(k(e),o=>(_(),v("div",{key:o.path},[f(s,{to:o.path,"active-class":"!c-$bl-main",class:"c-$bl-title"},{default:E(()=>[z(H(o.name),1)]),_:2},1032,["to"])]))),128)),f(n)])])}}}),D=Math.PI,y=D/2,P=y/6,tt=typeof window<"u"?window:void 0;class et{constructor(e={length:10,minBranch:50,color:"#99999920",fps:60},t=[],a=[],s=[],n=performance.now(),o=null,l=!1,c=!1){this.opts=e,this.steps=t,this.defaultStep=a,this.prevSteps=s,this.lastExecutedTime=n,this.pauseableController=o,this.stopped=l,this.isActive=c}polar2cart(e=0,t=0,a=0,s=0){const n=a*Math.cos(s),o=a*Math.sin(s);return[e+n,t+o]}init(){if(!this.canvas||!this.size)return;const{size:e}=this,t=this.canvas.getContext("2d"),a=window.devicePixelRatio||1,s=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,n=a/s;this.canvas.style.width=`${e.width}px`,this.canvas.style.height=`${e.height}px`,this.canvas.width=n*e.width,this.canvas.height=n*e.height,t.scale(n,n),this.context2D=t,this.pauseableController=this.rafFn(this.frame.bind(this),{immediate:!1})}getRandomPos(){return Math.random()*.6+.2}rafFn(e,t){const{immediate:a=!0,window:s=tt}=t;let n=0,o=null;const l=i=>{if(!this.isActive||!s)return;const r=i-n;e({delta:r,timestamp:i}),n=i,o=s.requestAnimationFrame(l)},c=()=>{!this.isActive&&s&&(this.isActive=!0,o=s.requestAnimationFrame(l))},g=()=>{this.isActive=!1,o!=null&&s&&(s.cancelAnimationFrame(o),o=null)};return a&&c(),{isActive:this.isActive,pause:g,resume:c}}step(e,t,a,s={value:0}){const{random:n}=Math,{minBranch:o,length:l}=this.opts,{size:c}=this,g=n()*l;s.value+=1;const[i,r]=this.polar2cart(e,t,g,a),m=this.context2D;m.beginPath(),m.moveTo(e,t),m.lineTo(i,r),m.stroke();const w=a+n()*P,h=a-n()*P;if(!c||i<-100||i>c.width+100||r<-100||r>c.height+100)return;const d=s.value<=o?.8:.5;n()<d&&this.steps.push(()=>this.step(i,r,w,s)),n()<d&&this.steps.push(()=>this.step(i,r,h,s))}frame(){var e;performance.now()-this.lastExecutedTime<1e3/this.opts.fps||(this.prevSteps=this.steps,this.steps=[],this.lastExecutedTime=performance.now(),this.prevSteps.length||((e=this.pauseableController)==null||e.pause(),this.stopped=!0),this.prevSteps.forEach(t=>{Math.random()<.5?this.steps.push(t):t()}))}addDefaultStep(e){Array.isArray(e)||(e=[e]),this.defaultStep.push(...e.map(t=>()=>this.step(t.x,t.y,t.rad)))}start(e,t={width:600,height:600},a){var n,o;this.canvas=e,this.size=t,this.init(),(n=this.pauseableController)==null||n.pause();const s=this.context2D;s.clearRect(0,0,this.canvas.width,this.canvas.height),s.lineWidth=1,s.strokeStyle=this.opts.color,this.prevSteps=[],this.steps=this.defaultStep.length?this.defaultStep:[()=>this.step(this.getRandomPos()*t.width,-5,y),()=>this.step(this.getRandomPos()*t.width,t.height+5,-y),()=>this.step(-5,this.getRandomPos()*t.height,0),()=>this.step(t.width+5,this.getRandomPos()*t.height,D)],(o=this.pauseableController)==null||o.resume(),this.stopped=!1}}const st=S({__name:"Plum",setup(u){const e=p(null),t=p(new et),{width:a,height:s}=G();C(()=>{t.value.start(e.value,{width:a.value,height:s.value})});const n=A(()=>"radial-gradient(circle, transparent, black);");return(o,l)=>(_(),v("div",{class:"pointer-events-none fixed bottom-0 left-0 right-0 top-0",style:N([{"z-index":"-1"},`mask-image: ${k(n)};--webkit-mask-image: ${k(n)};`])},[x("canvas",{ref_key:"el",ref:e,width:"400",height:"400"},null,512)],4))}}),nt={},ot={style:{height:"calc(100vh - 176px - 40px)"},"overflow-hidden":"","py-20":""},at={"m-auto":"","h-full":"","max-w100ch":""};function it(u,e){const t=Z,a=st,s=I,n=W;return _(),v(T,null,[f(t),x("main",ot,[x("div",at,[q(u.$slots,"default"),f(s,null,{default:E(()=>[f(a,{"pointer-events-none":"",absolute:"","bottom-0":"","left-0":"","right-0":"","top-0":"","z-100":""})]),_:1})])]),f(n)],64)}const pt=j(nt,[["render",it]]);export{pt as default};
